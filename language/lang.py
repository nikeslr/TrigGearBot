# language/lang.py
from typing import Dict

LANGUAGES = {
    "ru": {
        "welcome": "Привет! Я триггер-бот.\nИспользуй /my_chats для управления.",
        "no_chats": "Вы не управляете ни одним чатом.",
        "old_value": "Старое значение: ",
        "your_chats": "Ваши чаты:",
        "chat_settings_title": "Настройки чата {chat_id} ({role}):",
        "only_owner": "Только владелец чата может выполнить это действие.",
        "enter_group_name": "Введите название группы:",
        "group_created": "Группа '{name}' создана и привязана!",
        "no_access": "Нет доступа.",
        "back": "Назад",
        "create_group": "Создать группу",
        "assign_group": "Назначить группу",
        "local_categories": "Локальные категории",
        "group_categories": "Групповые категории",
        "add_category": "Добавить категорию",
        "edit": "Редактировать",
        "delete": "Удалить",
        "empty_group_name": "Название не может быть пустым.",
        "error_creating_group": "Ошибка при создании группы.",
        "group_categories_title": "Групповые категории:",
        "local_categories_title": "Локальные категории:",
        "add_group_category": "Добавить групповую категорию",
        "add_local_category": "Добавить локальную категорию",
        "enter_category_name": "Введите имя категории:",
        "enter_category_name_edit": "Редактирование '{old_name}'. Введите новое имя:",
        "enter_category_keywords": "Введите ключевые слова (через запятую):",
        "enter_category_response": "Введите ответ:",
        "category_saved": "Категория сохранена!",
        "error_saving_category": "Ошибка сохранения категории.",
        "empty_category_name": "Имя категории не может быть пустым.",
        "category_not_found": "Категория не найдена.",
        "group_categories_from_group": "Групповые категории (переопределяются локальными):",

        "chat_not_found": "Чат не найден.",
        "no_group_assigned": "Чат не в группе.",
        "invalid_category_level": "Категория должна быть локальной или групповой, не обеими.",
        # --- Группы ---
        "no_groups": "У вас пока нет созданных групп.",
        "your_groups": "Ваши группы:",
        "group_not_found": "Группа не найдена.",
        "group_no_access": "Нет доступа к этой группе.",
        "group_chats_list": "Группа: {name}\n\nЧаты в группе:",
        "group_chats_empty": "— пока ни одного чата.",
        "my_groups_button": "Мои группы",
        "no_groups_for_assign": "У вас пока нет групп. Сначала создайте группу.",
        "choose_group_to_assign": "Выберите группу для привязки:",
        "assign_error_not_found": "Ошибка: чат или группа не найдены.",
        "chat_assigned_to_group": "Чат успешно привязан к группе '{name}'.",

        "group_menu_title": "Группа: {name}",
        "group_delete_confirm": "Удалить группу '{name}'?",
        "group_deleted": "Группа '{name}' удалена.",
        "edit_group_categories": "Редактировать категории",
        "view_group_chats": "Посмотреть чаты группы",
        "go_to_chat": "Перейти в чат",
        "group_linked_to_chat": "Группа: {name}",
        "already_assigned": "✅ (уже назначена)"
    },
    "en": {
        "welcome": "Hi! I'm a trigger bot.\nUse /my_chats to manage.",
        "no_chats": "You don't manage any chats.",
        "old_value": "Old value: ",
        "your_chats": "Your chats:",
        "chat_settings_title": "Chat {chat_id} settings ({role}):",
        "only_owner": "Only the chat owner can do this.",
        "enter_group_name": "Enter group name:",
        "group_created": "Group '{name}' created and assigned!",
        "no_access": "No access.",
        "back": "Back",
        "create_group": "Create group",
        "assign_group": "Assign group",
        "local_categories": "Local categories",
        "group_categories": "Group categories",
        "add_category": "Add category",
        "edit": "Edit",
        "delete": "Delete",
        "empty_group_name": "Name should not be empty.",
        "error_creating_group": "Error creating group.",
        "group_categories_title": "Group categories:",
        "local_categories_title": "Local categories:",
        "add_group_category": "Add group category",
        "add_local_category": "Add local category",
        "enter_category_name": "Enter category name:",
        "enter_category_name_edit": "Editing '{old_name}'. Enter new name:",
        "enter_category_keywords": "Enter keywords (comma-separated):",
        "enter_category_response": "Enter response:",
        "category_saved": "Category saved!",
        "error_saving_category": "Error saving category.",
        "empty_category_name": "Category name should not be empty.",
        "category_not_found": "Category not found.",
        "group_categories_from_group": "Group categories (overridden by local):",

        "chat_not_found": "EN Чат не найден.",
        "no_group_assigned": "EN Чат не в группе.",
        "invalid_category_level": "EN Категория должна быть локальной или групповой, не обеими.",

        # --- Группы ---
        "no_groups": "EN У вас пока нет созданных групп.",
        "your_groups": "EN Ваши группы:",
        "group_not_found": "EN Группа не найдена.",
        "group_no_access": "EN Нет доступа к этой группе.",
        "group_chats_list": "EN Группа: {name}\n\nЧаты в группе:",
        "group_chats_empty": "— пока ни одного чата. EN",
        "my_groups_button": "EN Мои группы",
        "no_groups_for_assign": "EN У вас пока нет групп. Сначала создайте группу.",
        "choose_group_to_assign": "EN Выберите группу для привязки:",
        "assign_error_not_found": "EN Ошибка: чат или группа не найдены.",
        "chat_assigned_to_group": "EN Чат успешно привязан к группе '{name}'.",
    }
}

def t(user_id: int, key: str, **kwargs) -> str:
    """Простая заглушка: пока только русский, но с поддержкой en"""
    # В будущем: lang = get_user_lang(user_id)
    lang = "ru"  # или "en"
    text = LANGUAGES.get(lang, LANGUAGES["ru"]).get(key, key)
    return text.format(**kwargs)